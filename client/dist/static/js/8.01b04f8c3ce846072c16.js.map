{"version":3,"sources":["webpack:///src/views/user/Login.vue","webpack:///./src/views/user/Login.vue?a422","webpack:///./src/views/user/Login.vue"],"names":["Login","data","self","this","gradient","form","stu_id","valid","fixed","components","Footer","methods","submit","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","res","wrap","_context","prev","next","$refs","validate","console","log","loading","open","api","base","login","sent","utils","sleep","close","code","message","sessionStorage","setItem","stringify_default","$store","getters","getUserInfo","toRouter","error","stop","user_Login","render","_vm","_h","$createElement","_c","_self","attrs","height","fluid","fill-height","align-center","justify-center","xs12","sm8","md4","staticClass","staticStyle","color","dark","_v","ref","prepend-icon","rules","v","type","model","value","callback","$$v","$set","expression","on","click","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__"],"mappings":"4MAyBAA,GACAC,KADA,WAEA,OACAC,KAAAC,KACAC,SAAA,iCACAC,MACAC,OAAA,MAEAC,OAAA,EACAC,OAAA,IAIAC,YACAC,SAAA,GAEAC,SAEAC,OAFA,WAEA,IAAAC,EAAAV,KAAA,OAAAW,IAAAC,EAAAC,EAAAC,KAAA,SAAAC,IAAA,IAAAC,EAAA,OAAAJ,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,WACAV,EAAAW,MAAAnB,KAAAoB,WADA,CAAAJ,EAAAE,KAAA,gBAEAG,QAAAC,IAAA,mBAEAd,EAAAW,MAAAI,QAAAC,OAJAR,EAAAE,KAAA,EAKAO,EAAA,EAAAC,KAAAC,MAAAnB,EAAAR,MALA,cAKAc,EALAE,EAAAY,KAMAP,QAAAC,IAAAR,EAAAlB,MANAoB,EAAAE,KAAA,EAOAW,EAAA,EAAAC,QAPA,OAQAtB,EAAAW,MAAAI,QAAAQ,QAEA,IAAAjB,EAAAkB,MAEAxB,EAAAW,MAAAc,QAAAT,KAAA,kBAEAU,eAAAC,QAAA,OAAAC,IAAAtB,EAAAlB,OAGAyB,QAAAC,IAAAd,EAAA6B,OAAAC,QAAAC,aACAV,EAAA,EAAAW,SAAA,OAAAhC,KAEAa,QAAAC,IAAA,mBACAD,QAAAC,IAAAR,EAAAlB,MACAY,EAAAW,MAAAc,QAAAT,KAAAV,EAAA2B,MAAA,UAtBA,yBAAAzB,EAAA0B,SAAA7B,EAAAL,KAAAC,MCxCekC,GADEC,OAFjB,WAA0B,IAAAC,EAAA/C,KAAagD,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,eAAyBE,OAAOnD,SAAA8C,EAAA9C,SAAAoD,OAAA,UAAyCH,EAAA,eAAoBE,OAAOE,MAAA,QAAAC,cAAA,iBAA6CL,EAAA,YAAiBE,OAAOI,eAAA,eAAAC,iBAAA,oBAAiEP,EAAA,UAAeE,OAAOM,KAAA,OAAAC,IAAA,MAAAC,IAAA,SAAuCV,EAAA,OAAYW,YAAA,wBAAkCX,EAAA,OAAYW,YAAA,iBAAAC,aAA0CC,MAAA,eAAmBb,EAAA,UAAiBW,YAAA,iBAA2BX,EAAA,aAAkBE,OAAOY,KAAA,OAAAD,MAAA,aAAiCb,EAAA,mBAAAH,EAAAkB,GAAA,WAAAf,EAAA,gBAAAA,EAAA,eAAAA,EAAA,UAA4FgB,IAAA,SAAWhB,EAAA,gBAAqBE,OAAOe,eAAA,SAAAC,OAAA,SAAAC,GAA+C,QAAAA,GAAA,2BAA0CC,KAAA,QAAgBC,OAAQC,MAAAzB,EAAA7C,KAAA,OAAAuE,SAAA,SAAAC,GAAiD3B,EAAA4B,KAAA5B,EAAA7C,KAAA,SAAAwE,IAAkCE,WAAA,kBAA2B,OAAA1B,EAAA,kBAAAA,EAAA,YAAAA,EAAA,SAA0DE,OAAOW,MAAA,WAAkBc,IAAKC,MAAA/B,EAAAtC,UAAoBsC,EAAAkB,GAAA,gCAAAf,EAAA,UAAsDE,OAAO/C,MAAA0C,EAAA1C,SAAmB6C,EAAA,aAAkBgB,IAAA,YAAchB,EAAA,aAAkBgB,IAAA,aAAc,IAE1qCa,oBCYjBC,EAdyBC,EAAQ,OAcjCC,CACErF,EACAgD,GATF,EAEA,KAEA,KAEA,MAUesC,EAAA,QAAAH,EAAiB","file":"static/js/8.01b04f8c3ce846072c16.js","sourcesContent":["<template lang=\"pug\">\n    v-jumbotron(:gradient=\"gradient\" height=\"100%\")\n      v-container(fluid fill-height)\n        v-layout(align-center justify-center)\n          v-flex(xs12 sm8 md4)\n            div.pa-3.text-xs-center\n              div.display-3.py-4(style=\"color:#1565C0\") \n            v-card.elevation-12\n              v-toolbar(dark color=\"primary\")\n                v-toolbar-title Login\n                v-spacer\n              v-card-text\n                v-form(ref=\"form\")\n                  v-text-field(prepend-icon=\"person\" v-model=\"form.stu_id\" :rules=\"[v => !!v || 'Student ID is required']\" type=\"text\")\n              v-card-actions\n                v-spacer\n                v-btn(color=\"primary\" @click=\"submit\") Submit\n      Footer(:fixed=\"fixed\")\n      MyLoading(ref=\"loading\")\n      MyMessage(ref=\"message\")\n</template>\n<script>\nimport Footer from '@/views/components/user/Footer'\nimport api from '@/api'\nimport util from '@/utils'\nexport default {\n  data () {\n    return {\n      self: this,\n      gradient: 'to top right, #1A237E, #BBDEFB',\n      form: {\n        stu_id: '01',\n      },\n      valid: false,\n      fixed: false\n      //name: null\n    }\n  },\n  components: {\n    Footer\n  },\n  methods: {\n\n    async submit () {\n      if (this.$refs.form.validate()) {\n        console.log('now is validate')\n\n        this.$refs.loading.open()\n        let res = await api.base.login(this.form)\n        console.log(res.data)\n        await util.sleep()\n        this.$refs.loading.close()\n\n        if (res.code === 1) {\n          \n          this.$refs.message.open('登录成功', 'success')\n          //sessionStorage.setItem('menus', JSON.stringify(res.data.menus))\n          sessionStorage.setItem('user', JSON.stringify(res.data))\n          //sessionStorage.setItem('token', res.data.token)\n          // console.log(sessionStorage)\n      console.log(this.$store.getters.getUserInfo)\n          util.toRouter('home', this)\n        } else {\n          console.log('now is ref data')\n          console.log(res.data)\n          this.$refs.message.open(res.error, 'error')\n        }\n      }\n    }\n\n  }\n\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/views/user/Login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-jumbotron',{attrs:{\"gradient\":_vm.gradient,\"height\":\"100%\"}},[_c('v-container',{attrs:{\"fluid\":\"fluid\",\"fill-height\":\"fill-height\"}},[_c('v-layout',{attrs:{\"align-center\":\"align-center\",\"justify-center\":\"justify-center\"}},[_c('v-flex',{attrs:{\"xs12\":\"xs12\",\"sm8\":\"sm8\",\"md4\":\"md4\"}},[_c('div',{staticClass:\"pa-3 text-xs-center\"},[_c('div',{staticClass:\"display-3 py-4\",staticStyle:{\"color\":\"#1565C0\"}})]),_c('v-card',{staticClass:\"elevation-12\"},[_c('v-toolbar',{attrs:{\"dark\":\"dark\",\"color\":\"primary\"}},[_c('v-toolbar-title',[_vm._v(\"Login\")]),_c('v-spacer')],1),_c('v-card-text',[_c('v-form',{ref:\"form\"},[_c('v-text-field',{attrs:{\"prepend-icon\":\"person\",\"rules\":[function (v) { return !!v || 'Student ID is required'; }],\"type\":\"text\"},model:{value:(_vm.form.stu_id),callback:function ($$v) {_vm.$set(_vm.form, \"stu_id\", $$v)},expression:\"form.stu_id\"}})],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"Submit\")])],1)],1)],1)],1)],1),_c('Footer',{attrs:{\"fixed\":_vm.fixed}}),_c('MyLoading',{ref:\"loading\"}),_c('MyMessage',{ref:\"message\"})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2ebe8966\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/template-compiler/preprocessor.js?engine=pug!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/user/Login.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2ebe8966\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/template-compiler/preprocessor?engine=pug!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/user/Login.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}